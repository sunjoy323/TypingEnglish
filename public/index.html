<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打字练习 - TypingEnglish</title>
    <!-- 网页标签图标 -->
    <link rel="icon" type="image/gif" href="https://github.githubassets.com/images/spinners/octocat-spinner-128.gif">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="assets/tailwind-config.js"></script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .typing-active {
                @apply border-b-2 border-primary animate-pulse;
            }
            .char-correct {
                @apply text-secondary;
            }
            .char-incorrect {
                @apply text-danger line-through;
            }
            .bg-glass {
                @apply bg-white/80 backdrop-blur-md;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .achievement-card {
                @apply bg-white rounded-lg shadow-md p-4 transition-all duration-300 hover:shadow-lg hover:transform hover:-translate-y-1;
            }
            .achievement-locked {
                @apply bg-gray-100 text-gray-400;
            }
            .achievement-unlocked {
                @apply bg-primary/10 border-l-4 border-primary;
            }
            .medal-gold {
                @apply text-gold;
            }
            .medal-silver {
                @apply text-silver;
            }
            .medal-bronze {
                @apply text-bronze;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="font-inter bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex flex-col">
    <!-- 顶部导航栏 -->
    <header class="bg-glass shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-keyboard-o text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-neutral">Typing<span class="text-primary">English</span></h1>
            </div>
            <nav class="hidden md:flex space-x-6">
                <a href="#" id="home-link" class="text-primary transition-colors duration-200 font-medium">主页</a>
                <a href="#" id="practice-link" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">练习模式</a>
                <a href="#" id="achievements-link" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">成就</a>
                <a href="#" id="leaderboard-link" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">排行榜</a>
                <a href="#" id="settings-link" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">设置</a>
            </nav>
            <div class="flex items-center space-x-3">
                <div id="user-points" class="hidden md:flex items-center bg-primary/10 px-3 py-1 rounded-full">
                    <i class="fa fa-star text-yellow-500 mr-1"></i>
                    <span class="font-medium">0</span>
                </div>
                <div id="user-info" class="hidden items-center space-x-2">
                    <span id="username-display" class="font-medium"></span>
                    <button id="logout-btn" class="px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all duration-200">
                        退出
                    </button>
                </div>
                <button id="login-btn" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                    登录
                </button>
                <button class="md:hidden text-neutral text-xl" id="mobile-menu-btn">
                    <i class="fa fa-bars"></i>
                </button>
            </div>
        </div>
        
        <!-- 移动端菜单 -->
        <div id="mobile-menu" class="md:hidden hidden bg-white shadow-lg">
            <div class="px-4 py-3 flex flex-col space-y-3">
                <a href="#" class="text-neutral hover:text-primary py-2 home-mobile-link">主页</a>
                <a href="#" class="text-neutral hover:text-primary py-2 practice-mobile-link">练习模式</a>
                <a href="#" class="text-neutral hover:text-primary py-2 achievements-mobile-link">成就</a>
                <a href="#" class="text-neutral hover:text-primary py-2 leaderboard-mobile-link">排行榜</a>
                <a href="#" class="text-neutral hover:text-primary py-2 settings-mobile-link">设置</a>
                <div id="mobile-user-info" class="hidden">
                    <div class="flex items-center justify-between py-2">
                        <span class="text-neutral">用户:</span>
                        <span id="mobile-username" class="font-medium"></span>
                    </div>
                    <div class="flex items-center justify-between py-2">
                        <span class="text-neutral">积分:</span>
                        <span id="mobile-points" class="font-medium">0</span>
                    </div>
                    <button id="mobile-logout-btn" class="w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-lg mt-2">退出登录</button>
                </div>
                <div id="mobile-login-section" class="pt-2">
                    <button class="w-full px-4 py-2 bg-primary text-white rounded-lg">登录</button>
                </div>
            </div>
        </div>
    </header>

    <!-- 主要内容区 - 动态加载内容 -->
    <main class="flex-grow container mx-auto px-4 py-8" id="main-content">
        <!-- 默认显示主页内容 -->
        <div id="home-page">
            <!-- 游戏卡片 -->
            <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:shadow-2xl">
                <!-- 游戏头部 -->
                <div class="bg-primary text-white p-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-bold">单词挑战</h2>
                        <div class="flex space-x-4">
                            <div class="text-center">
                                <p class="text-sm opacity-80">时间</p>
                                <p id="timer" class="text-xl font-bold">120sec</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm opacity-80">分数</p>
                                <p id="score" class="text-xl font-bold">0</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm opacity-80">速度</p>
                                <p id="wpm" class="text-xl font-bold">0 WPM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 游戏内容区 -->
                <div class="p-6">
                    <!-- 难度选择 -->
                    <div class="mb-6 flex justify-between items-center">
                        <div class="text-neutral">
                            <p class="text-sm">难度</p>
                            <select id="difficulty" class="bg-gray-100 border-0 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary focus:bg-white">
                                <option value="easy">简单</option>
                                <option value="medium" selected>中等</option>
                                <option value="hard">困难</option>
                                <option value="expert">专家</option>
                            </select>
                        </div>
                        <div class="flex space-x-2">
                            <button id="pause-btn" class="px-4 py-3 bg-gray-200 text-neutral rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center hidden">
                                <i class="fa fa-pause mr-2"></i> 暂停
                            </button>
                            <button id="start-btn" class="px-6 py-3 bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center">
                                <i class="fa fa-play mr-2"></i> 开始游戏
                            </button>
                        </div>
                    </div>

                    <!-- 句子显示区 -->
                    <div class="mb-6 p-4 bg-gray-50 rounded-xl min-h-[120px] flex items-center">
                        <p id="sentence" class="text-lg md:text-xl text-neutral">
                            准备好了吗?点击开始按钮,然后输入显示的英文句子.
                        </p>
                    </div>

                    <!-- 输入区域 -->
                    <div class="mb-6">
                        <label for="typing-input" class="block text-sm font-medium text-gray-700 mb-2">输入区</label>
                        <input 
                            type="text" 
                            id="typing-input" 
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 outline-none"
                            placeholder="开始输入..."
                            disabled
                        >
                    </div>

                    <!-- 统计信息 -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-500">正确率</p>
                            <p id="accuracy" class="text-xl font-bold text-neutral">0%</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-500">已完成单词</p>
                            <p id="words-completed" class="text-xl font-bold text-neutral">0</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-sm text-gray-500">错误数</p>
                            <p id="errors" class="text-xl font-bold text-neutral">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 游戏说明 -->
            <div class="max-w-4xl mx-auto mt-8 bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-xl font-bold text-neutral mb-4">游戏说明</h3>
                <div class="space-y-3 text-gray-600">
                    <p>1. 选择难度后点击"开始游戏"按钮</p>
                    <p>2. 输入显示的英文句子,尽量快速且准确</p>
                    <p>3. 游戏时间结束后,系统会计算你的打字速度和准确率</p>
                    <p>4. 正确率越高,获得的分数越多</p>
                    <p>5. 提高你的打字速度和英语水平!</p>
                </div>
            </div>
        </div>
        
        <!-- 练习模式页面 (初始隐藏) -->
        <div id="practice-page" class="hidden max-w-4xl mx-auto">
            <!-- 内容由JavaScript动态加载 -->
        </div>
        
        <!-- 成就页面 (初始隐藏) -->
        <div id="achievements-page" class="hidden max-w-4xl mx-auto">
            <!-- 内容由JavaScript动态加载 -->
        </div>
        
        <!-- 排行榜页面 (初始隐藏) -->
        <div id="leaderboard-page" class="hidden max-w-4xl mx-auto">
            <!-- 内容由JavaScript动态加载 -->
        </div>
        
        <!-- 设置页面 (初始隐藏) -->
        <div id="settings-page" class="hidden max-w-4xl mx-auto">
            <!-- 内容由JavaScript动态加载 -->
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-neutral text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fa fa-keyboard-o text-primary text-2xl"></i>
                        <h2 class="text-xl font-bold">Typing<span class="text-primary">English</span></h2>
                    </div>
                    <p class="text-gray-400">
                        通过打字练习提高你的英语水平,一举两得!
                    </p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">快速链接</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" id="footer-home-link" class="hover:text-primary transition-colors duration-200">主页</a></li>
                        <li><a href="#" id="footer-practice-link" class="hover:text-primary transition-colors duration-200">练习模式</a></li>
                        <li><a href="#" id="footer-achievements-link" class="hover:text-primary transition-colors duration-200">成就</a></li>
                        <li><a href="#" id="footer-leaderboard-link" class="hover:text-primary transition-colors duration-200">排行榜</a></li>
                        <li><a href="#" id="footer-settings-link" class="hover:text-primary transition-colors duration-200">设置</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">联系我们</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center">
                            <i class="fa fa-envelope-o mr-2 text-primary"></i>
                            <a href="contact.html" class="hover:text-primary transition-colors duration-200">contact@typingenglish.com</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-github mr-2 text-primary"></i>
                            <a href="Github.html" class="hover:text-primary transition-colors duration-200">GitHub</a>
                        </li>
                        <li class="flex items-center">
                            <i class="fa fa-twitter mr-2 text-primary"></i>
                            <a href="twitter.html" class="hover:text-primary transition-colors duration-200">Twitter</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400 text-sm">
                &copy; 2025 TypingEnglish. 保留所有权利.
            </div>
        </div>
    </footer>

    <!-- 游戏结束模态框 -->
    <div id="game-over-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0" id="modal-content">
            <div class="p-6 text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 text-primary mb-4">
                    <i class="fa fa-trophy text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-neutral mb-2">游戏结束!</h3>
                <p class="text-gray-500 mb-6">你的成绩</p>
                
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-500">最终分数</p>
                        <p id="final-score" class="text-2xl font-bold text-primary">0</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-500">打字速度</p>
                        <p id="final-wpm" class="text-2xl font-bold text-primary">0 WPM</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-500">正确率</p>
                        <p id="final-accuracy" class="text-2xl font-bold text-primary">0%</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-500">完成单词</p>
                        <p id="final-words" class="text-2xl font-bold text-primary">0</p>
                    </div>
                </div>
                
                <div id="achievement-notification" class="hidden mb-4 p-3 bg-green-100 text-green-800 rounded-lg">
                    <i class="fa fa-trophy mr-2"></i>
                    <span id="achievement-text"></span>
                    <span id="achievement-points" class="font-bold ml-2"></span>
                </div>
                
                <div class="flex space-x-4">
                    <button id="play-again-btn" class="flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all duration-200">
                        返回主页
                    </button>
                    <button id="share-btn" class="flex-1 px-4 py-3 bg-gray-200 text-neutral rounded-lg hover:bg-gray-300 transition-all duration-200">
                        分享成绩
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 登录/注册模态框 -->
    <div id="auth-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0 relative" id="auth-modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-neutral" id="auth-modal-title">登录</h3>
                    <button id="close-auth-modal" class="text-gray-500 hover:text-gray-700">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
                
                <div class="flex border-b border-gray-200 mb-6">
                    <button id="login-tab" class="flex-1 py-2 font-medium text-primary border-b-2 border-primary">登录</button>
                    <button id="register-tab" class="flex-1 py-2 font-medium text-gray-500">注册</button>
                </div>
                
                <form id="login-form" class="space-y-4">
                    <div>
                        <label for="login-username" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                        <input type="text" id="login-username" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary" required>
                    </div>
                    <div>
                        <label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">密码</label>
                        <input type="password" id="login-password" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary" required>
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="remember-me" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">记住我</label>
                    </div>
                    <button type="submit" class="w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all duration-200">
                        登录
                    </button>
                </form>
                
                <form id="register-form" class="space-y-4 hidden">
                    <div>
                        <label for="register-username" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                        <input type="text" id="register-username" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary" required>
                        <p class="text-xs text-gray-500 mt-1">用户名长度3-20个字符，只能包含字母、数字和下划线</p>
                    </div>
                    <div>
                        <label for="register-email" class="block text-sm font-medium text-gray-700 mb-1">邮箱</label>
                        <input type="email" id="register-email" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary" required>
                    </div>
                    <div>
                        <label for="register-password" class="block text-sm font-medium text-gray-700 mb-1">密码</label>
                        <input type="password" id="register-password" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary" required>
                        <p class="text-xs text-gray-500 mt-1">密码长度至少6个字符</p>
                    </div>
                    <div>
                        <label for="register-confirm-password" class="block text-sm font-medium text-gray-700 mb-1">确认密码</label>
                        <input type="password" id="register-confirm-password" class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary" required>
                    </div>
                    <button type="submit" class="w-full px-4 py-2 bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-all duration-200">
                        注册
                    </button>
                </form>
                
                <div id="auth-message" class="mt-4 p-3 rounded-lg hidden"></div>
            </div>

            <!-- Auth loading overlay -->
            <div id="auth-loading" class="absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center rounded-2xl hidden">
                <div class="flex flex-col items-center">
                    <div class="w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"></div>
                    <p id="auth-loading-text" class="mt-3 text-sm text-gray-700">处理中...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 音频元素 -->
    <audio id="typing-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>
    <audio id="correct-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>
    <audio id="error-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>
    <audio id="complete-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>
    <audio id="game-start-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>
    <audio id="game-over-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>
    <audio id="achievement-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==" type="audio/wav">
    </audio>

    <script src="assets/game-config.js"></script>
    <script src="assets/sound-manager.js"></script>
    <script src="assets/user-manager.js"></script>
    <script src="assets/sentences.js"></script>
    <script src="assets/app/globals.js"></script>
    <script src="assets/app/auth.js"></script>
    <script src="assets/app/game.js"></script>
    <script src="assets/app/pages.js"></script>
    <script src="assets/app/navigation.js"></script>
    <script src="assets/app.js"></script>

</body>
</html>
